2005-09-05  David Kastrup  <dak@gnu.org>

	* bigfoot.dtx: Get version info from style file.
	Add description into version string.
	Move \normalcolor back into vertical mode in vboxes.  Don't start
	paragraph before `\@makefntext'.
	Steal standard counters and print form from the default
	definitions.

2005-07-15  David Kastrup  <dak@gnu.org>

	* bigfoot.dtx: A few typos fixed, moving around marks.
	Add compatibility macro `\NCC@makemark' for new manyfoot versions.

2005-07-13  David Kastrup  <dak@gnu.org>

	* perpage.sty (\c@schk@): when opening a new counter group, reset
	it at end of document for the sake of the label check.  Make a
	number of control sequences preamble-only.

	* bigfoot.dtx: Change the normal algorithms into unrestricted
	horizontal mode so that for most purposes we'll get proper
	widow/clubpenalties for line breaks forced by the formatting
	algorithms.

2005-06-28  David Kastrup  <dak@gnu.org>

	* bigfoot.dtx (\FN@sweepmarks): do mark sweeping.
	(\FN@restartoutput): factor out.

2005-04-23  David Kastrup  <dak@gnu.org>

	* bigfoot.dtx (\FN@clearcache): Remove bogus error message.
	Add p@footnote formatting.

2005-03-16  David Kastrup  <dak@gnu.org>

	* bigfoot.dtx: Basically fix a few mismatched braces.

2005-03-14  David Kastrup  <dak@gnu.org>

	* bigfoot.dtx: Lots of additional debug code too numerous to
	mention.  Move around order of insertions and reinserted page
	material, and start nested output routine in a fresh vbox.  Some
	changes with regard to the calculation of \FN@lowestslave: now
	only updated on successful shipout.  Make the various widow
	penalties and stuff work in vertical mode footnotes.

2005-03-11  David Kastrup  <dak@gnu.org>

	* bigfoot.dtx: Add \ftflags tracing, remove \iffoottrace again.
	When using the trace option, unknown options are interpreted as
	added flags to track certain trace features.  Add lots of tracing
	output and document some more stuff.  Also try working
	\cmd{\FN@splitcolors} correctly.

2005-03-09  David Kastrup  <dak@gnu.org>

	* bigfoot.dtx: Add trace version of \FN@slotget that checks we are
	not using already freed versions.  New penalties
	\footnotewidowpenalty, \footnoteclubpenalty and
	\finalfootnotewidowpenalty.
	Various debug output additions.
	Remove \Footnotemark \Footnotetext and \Footnote redefinitions:
	those cause infinite loops.

2004-11-12  David Kastrup  <dak@gnu.org>

	* bigfoot.dtx: Still more reorganization and documentation.

2004-11-09  David Kastrup  <dak@gnu.org>

	* README: Adapt to the sty->dtx move for bigfoot itself.

	* suffix.dtx: Remove driver file here, it is in bigfoot.drv now.
	Simplify banner creation.

	* bigfoot.dtx: new file with history from bigfoot.sty.

	* bigfoot.sty: removed.

2004-03-29  David Kastrup  <dak@gnu.org>

	* bigfoot.sty: Stop relying on \pp@label.

	* perpage.sty: New command \AddAbsoluteCounter, \pp@label and
	\pp@page are no longer exported, kerns are transported to after
	the whatsit to support [multiple]{footmisc}, per page resetting
	is done for each counter separately (doh!).

2004-03-25  David Kastrup  <dak@gnu.org>

	* bigfoot.sty (\MFL@mpreinsert): Add an appropriate \marks
	command after reinserting minipage material to make subordinate
	footnotes come out.

2004-03-22  David Kastrup  <dak@gnu.org>

	* bigfoot.sty: Rely on perpage.sty for a general sorted counter
	FN@totalid.
	Fix calculation of sort criterion.
	Adjust listdepth and itemdepth to zero within footnotes.
	Fix restoration of \reset@color and ilk.
	(\MFL@mpreinsert, \MFL@minipage, \MFL@removevboxes): restructure
	to deal better with recursive data structures.

2004-03-18  David Kastrup  <dak@gnu.org>

	* bigfoot.sty: Remove a significant space in \FN@magicglue
	calculation.
	In \FN@fnotecommon, move line size recordings to after
	\@makefntext had a chance to change them.

2004-03-16  David Kastrup  <dak@gnu.org>

	* bigfoot.sty: Use a penalty based model for evaluating total
	badness.  Basically helps to avoid lots of widows.

2004-03-14  David Kastrup  <dak@gnu.org>

	* bigfoot.sty: Declare compatibility options `para', `para*' and
	`ruled'.
	Allow for \@preparefnhtext to be predefined.
	Same for \@makefnvbox.
	Use suffix.sty for \FootnoteSpecific.
	Try rearranging Color tokens to allow for \normalcolor use.
	If placing color setup tokens, keep original depth of box.

